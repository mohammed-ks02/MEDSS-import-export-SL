import{I as i,i as t,j as u}from"./common.DlSz_IQz.js";import{r as l,R as c}from"./index.B52nOzfP.js";import{L as d}from"./i18n.F9xZKMSM.js";function f({i18n:g,defaultNS:a,children:r}){const e=l.useMemo(()=>({i18n:g,defaultNS:a}),[g,a]);return l.createElement(i.Provider,{value:e},r)}const v=({children:g,initialLanguage:a})=>(c.useEffect(()=>{if(typeof window<"u"){const r=localStorage.getItem("language")||localStorage.getItem("lang");let e;if(r)e=r;else{const o=["en","es","fr"],n=navigator.language.split("-")[0];o.includes(n)?e=n:e=a||"es",localStorage.setItem("language",e),localStorage.setItem("lang",e)}t.language!==e&&t.changeLanguage(e);const s=o=>{const n=o.detail.language;t.language!==n&&t.changeLanguage(n)};return window.addEventListener("languageChange",s),()=>{window.removeEventListener("languageChange",s)}}},[a]),u.jsx(f,{i18n:t,children:u.jsx(d,{children:g})}));export{v as default};
